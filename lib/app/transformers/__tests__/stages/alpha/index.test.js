"use strict";var _transmission=require("shinkansen-engine/lib/transformers/transmission");var _alpha=_interopRequireDefault(require("../../../stages/alpha"));var _=require("../../..");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}jest.mock("../../../../common",function(){return{REJECTED:'MOCK REJECTED'};});jest.mock('shinkansen-engine/lib/transformers/transmission',function(){return{toZashiki:jest.fn().mockReturnValue('MOCK ZASHIKI')};});jest.mock("../../..",function(){return{transformRejected:jest.fn()};});describe('@modernpoacher/zashiki-react-redux/app/transformers/stages/alpha',function(){describe('`transform`',function(){it('is defined',function(){expect(_alpha["default"]).toBeDefined();});});describe('`transform()`',function(){describe('With parameters',function(){afterEach(function(){jest.clearAllMocks();});describe('`status` is `REJECTED`',function(){it('invokes `transformRejected`',function(){(0,_alpha["default"])({status:'MOCK REJECTED'});expect(_.transformRejected).toBeCalledWith('MOCK REJECTED',{});});});describe('`status` is not `REJECTED`',function(){it('does not invoke `transformRejected`',function(){(0,_alpha["default"])({status:'MOCK STATUS'});expect(_.transformRejected).not.toBeCalled();});it('returns an object',function(){expect((0,_alpha["default"])({status:'MOCK STATUS'})).toEqual({status:'MOCK STATUS',definitions:[]});});describe('`omega` is an array',function(){var returnValue;beforeEach(function(){jest.clearAllMocks();returnValue=(0,_alpha["default"])({status:'MOCK STATUS',omega:[{resource:'MOCK RESOURCE',definition:'MOCK DEFINITION',response:'MOCK RESPONSE'}]});});it('invokes `toZashiki`',function(){expect(_transmission.toZashiki).toBeCalledWith('MOCK DEFINITION','MOCK RESPONSE');});it('returns an object',function(){expect(returnValue).toEqual({status:'MOCK STATUS',definitions:[{definition:'MOCK ZASHIKI',resource:'MOCK RESOURCE',response:'MOCK RESPONSE',errors:[]}]});});});});});describe('Without parameters',function(){it('invokes `transformRejected`',function(){(0,_alpha["default"])({status:'MOCK REJECTED'});expect(_.transformRejected).toBeCalledWith('MOCK REJECTED',{});});});});});