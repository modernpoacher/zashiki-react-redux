"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.embarkRoute=embarkRoute;exports.store=exports.fetch=exports.ZASHIKI_EMBARK_STORE=exports.ZASHIKI_EMBARK_FETCH=exports.ZASHIKI_EMBARK=void 0;var _=require("../..");var _shinkansenPantograph=require("shinkansen-pantograph");var _shinkansenRails=require("shinkansen-rails");var _Pantograph$EMBARK=_shinkansenPantograph.Pantograph.EMBARK,ZASHIKI_EMBARK=_Pantograph$EMBARK.ROUTE,ZASHIKI_EMBARK_FETCH=_Pantograph$EMBARK.FETCH,ZASHIKI_EMBARK_STORE=_Pantograph$EMBARK.STORE;exports.ZASHIKI_EMBARK_STORE=ZASHIKI_EMBARK_STORE;exports.ZASHIKI_EMBARK_FETCH=ZASHIKI_EMBARK_FETCH;exports.ZASHIKI_EMBARK=ZASHIKI_EMBARK;function embarkRoute(route){return{type:ZASHIKI_EMBARK,payload:{promise:_.request.post('zashiki/embark',route)}};}function fetchRoute(){return{type:ZASHIKI_EMBARK_FETCH,payload:{promise:_.request.get('zashiki/embark/fetch')}};}function storeRoute(route){return{type:ZASHIKI_EMBARK_STORE,payload:{promise:_.request.put('zashiki/embark/store',route)}};}var fetch=function fetch(){return function(dispatch){return dispatch(fetchRoute());};};exports.fetch=fetch;var store=function store(_ref){var statement=_ref.statement;return function(dispatch){return dispatch(storeRoute({response:{statement:statement}})).then(function(){return dispatch(embarkRoute({response:{embark:_shinkansenRails.Rails.rail(statement)}}));});};};exports.store=store;