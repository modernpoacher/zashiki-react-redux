"use strict";var _rails=_interopRequireDefault(require("shinkansen-engine/lib/components/rails"));var _getPathname=_interopRequireDefault(require("../get-pathname"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}jest.mock('shinkansen-engine/lib/components/rails',function(){return{go:jest.fn(),to:jest.fn()};});jest.mock('shinkansen-engine/lib/components/signals',function(){return{ALPHA:'MOCK ALPHA',OMEGA:'MOCK OMEGA',EMBARK:'MOCK EMBARK',DEBARK:'MOCK DEBARK',ALPHA_PATTERN:'MOCK ALPHA PATTERN',OMEGA_PATTERN:'MOCK OMEGA PATTERN',EMBARK_PATTERN:'MOCK EMBARK PATTERN',DEBARK_PATTERN:'MOCK DEBARK PATTERN'};});describe('@modernpoacher/zashiki-react-redux/app/common/get-pathname',function(){describe('`getPathname`',function(){it('is defined',function(){expect(_getPathname["default"]).toBeDefined();});});describe('`getPathname()`',function(){beforeEach(function(){_rails["default"].go.mockImplementation(function(route,pattern){switch(pattern){case'MOCK ALPHA PATTERN':return Reflect.has(route,'MOCK ALPHA')&&!(Reflect.has(route,'MOCK OMEGA')||Reflect.has(route,'MOCK EMBARK')||Reflect.has(route,'MOCK DEBARK'));case'MOCK OMEGA PATTERN':return Reflect.has(route,'MOCK ALPHA')&&Reflect.has(route,'MOCK OMEGA')&&!(Reflect.has(route,'MOCK EMBARK')||Reflect.has(route,'MOCK DEBARK'));case'MOCK EMBARK PATTERN':return Reflect.has(route,'MOCK EMBARK')&&!(Reflect.has(route,'MOCK ALPHA')||Reflect.has(route,'MOCK OMEGA')||Reflect.has(route,'MOCK DEBARK'));case'MOCK DEBARK PATTERN':return Reflect.has(route,'MOCK DEBARK')&&!(Reflect.has(route,'MOCK ALPHA')||Reflect.has(route,'MOCK OMEGA')||Reflect.has(route,'MOCK EMBARK'));}});});afterEach(function(){jest.clearAllMocks();});describe('With parameters',function(){describe('`alpha` is an object',function(){var returnValue;beforeEach(function(){_rails["default"].to.mockReturnValue('MOCK ALPHA ROUTE');returnValue=(0,_getPathname["default"])({'MOCK ALPHA':'MOCK ALPHA VALUE'});});it('invokes `Rails.go`',function(){expect(_rails["default"].go).toBeCalledWith({'MOCK ALPHA':'MOCK ALPHA VALUE'},'MOCK ALPHA PATTERN');});it('invokes `Rails.to`',function(){expect(_rails["default"].to).toBeCalledWith({'MOCK ALPHA':'MOCK ALPHA VALUE'},'MOCK ALPHA PATTERN');});it('returns a string',function(){expect(returnValue).toBe('MOCK ALPHA ROUTE');});});describe('`alpha` is an object and `omega` is an object',function(){var returnValue;beforeEach(function(){_rails["default"].to.mockReturnValue('MOCK OMEGA ROUTE');returnValue=(0,_getPathname["default"])({'MOCK ALPHA':'MOCK ALPHA VALUE','MOCK OMEGA':'MOCK OMEGA VALUE'});});it('invokes `Rails.go`',function(){expect(_rails["default"].go).toBeCalledWith({'MOCK ALPHA':'MOCK ALPHA VALUE','MOCK OMEGA':'MOCK OMEGA VALUE'},'MOCK OMEGA PATTERN');});it('invokes `Rails.to`',function(){expect(_rails["default"].to).toBeCalledWith({'MOCK ALPHA':'MOCK ALPHA VALUE','MOCK OMEGA':'MOCK OMEGA VALUE'},'MOCK OMEGA PATTERN');});it('returns a string',function(){expect(returnValue).toBe('MOCK OMEGA ROUTE');});});describe('`embark` is an object',function(){var returnValue;beforeEach(function(){_rails["default"].to.mockReturnValue('MOCK EMBARK ROUTE');returnValue=(0,_getPathname["default"])({'MOCK EMBARK':'MOCK EMBARK VALUE'});});it('invokes `Rails.go`',function(){expect(_rails["default"].go).toBeCalledWith({'MOCK EMBARK':'MOCK EMBARK VALUE'},'MOCK EMBARK PATTERN');});it('invokes `Rails.to`',function(){expect(_rails["default"].to).toBeCalledWith({'MOCK EMBARK':'MOCK EMBARK VALUE'},'MOCK EMBARK PATTERN');});it('returns a string',function(){expect(returnValue).toBe('MOCK EMBARK ROUTE');});});describe('`debark` is an object',function(){var returnValue;beforeEach(function(){_rails["default"].to.mockReturnValue('MOCK DEBARK ROUTE');returnValue=(0,_getPathname["default"])({'MOCK DEBARK':'MOCK DEBARK VALUE'});});it('invokes `Rails.go`',function(){expect(_rails["default"].go).toBeCalledWith({'MOCK DEBARK':'MOCK DEBARK VALUE'},'MOCK DEBARK PATTERN');});it('invokes `Rails.to`',function(){expect(_rails["default"].to).toBeCalledWith({'MOCK DEBARK':'MOCK DEBARK VALUE'},'MOCK DEBARK PATTERN');});it('returns a string',function(){expect(returnValue).toBe('MOCK DEBARK ROUTE');});});});describe('Without parameters',function(){var returnValue;beforeEach(function(){returnValue=(0,_getPathname["default"])();});it('invokes `Rails.go`',function(){expect(_rails["default"].go).toBeCalled();});it('does not invoke `Rails.to`',function(){expect(_rails["default"].to).not.toBeCalled();});it('returns undefined',function(){expect(returnValue).toBeNull();});});});});